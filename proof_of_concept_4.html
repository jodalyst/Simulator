<!DOCTYPE html>
<html>
<head>
  <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="./static/time_series.js" ></script>
  <link rel="stylesheet" href="./static/gui.css">
  <!-- Unforunately must load in this order: -->
  <script src="./static/numeric-1.2.6.min.js" type="text/javascript"></script>
  <script src="./static/lti.js" type="text/javascript"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
</head>
<body>
<h1>Javascript Testing Ground for lti.js</h1>

<p>Currently this page has no real working animation/demonstration...rather it is a loading page for the <tt>lti.js</tt> library currently under development.  Included in this code is a branch of the jinstrument library for plotting purposes.</p>
<p>Goal of the page:
<ul>
<li>Create an instance of the <tt>SS</tt> and call it <tt>sys</tt> closure/class</li>
<li>Print out/verify all elements of it are working</li>
<li>Create a copy of the <tt>SysSim</tt> class from <tt>sys</tt> and call it <tt>system</tt> (smart I know). This will also test <tt>c2d</tt> function, <tt>poles</tt> function, <tt>zeros</tt> function (maybe), <tt>rank</tt>, <tt>rref</tt>, and several others.</li>
<li>Run a simulation of <tt>sys</tt></li>
</ul>
</p>
<h2>Matrix Specification</h2>
<p>Matrices can be specified by a State Space Matrix Input Object, <tt>ssmi</tt> to an existing DOM div in the page.  For example below:
<pre>
ssmi(div_id="plotbox",ctdt = "CT",type='ss'); 
</pre>

  <div >
    <div id="plotbox"></div>
  </div>


Matrices can also just be created in the source code like so:

<pre>
var sys = new SS([[1, 0.01, 0],[0,0.5,0.1],[0,0,0.1]],[0,0,1], [1,0,0]);
</pre>




</body>



<script>
var PLOT_HEIGHT = 200;
var PLOT_WIDTH = 300;
var plot2;

var esys = new ss([],[],[]);
//Built using more solid Matrix library!!!
var esysinput = new ssmi(div_id="plotbox",sso=esys,ctdt = "CT",type='ss'); 

var sys = new ss([[1, 0.01, 0],[0,0.5,0.1],[0,0,0.1]],[0,0,1], [1,0,0]);
console.log(sys);
console.log(sys.A);
console.log(sys.B);
console.log(sys.C);
console.log(sys.D);
console.log("Rank Test:");
console.log(rank(sys.A));
console.log(rank([[1, 0.01, 0],[0,0.5,0.1],[0,1.0,0.2]]));

console.log(sys.ctrb());
//  var system = new SysSim(sys,0.01);
//  console.log(system);

// console.log(rank(sys.A));

// window.onload = function(){
//     var unique = 456;
//     plot2 = new Time_Series("plotbox",'Simulation of states',PLOT_WIDTH, PLOT_HEIGHT,60,[0,20],3,["red","blue","green"],unique+1);
//     timer = setInterval(function(){
//         var first = A.multiply(x);
//         var second = B.multiply(u);
//         x_next = first.add(second); 
//         y = C.multiply(x);
//         x = x_next;
//         console.log(x.e(1,1));

//         plot2.step([[x.e(1,1)],[x.e(2,1)],[x.e(3,1)]]);
//     }, 10);
// }
</script>

</html>



